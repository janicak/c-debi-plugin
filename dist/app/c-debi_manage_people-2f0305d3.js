/*!
 * 
 * cDebi
 * 
 * @author 
 * @version 0.1.0
 * @link UNLICENSED
 * @license UNLICENSED
 * 
 * Copyright (c) 2020 
 * 
 * This software is released under the UNLICENSED License
 * https://opensource.org/licenses/UNLICENSED
 * 
 * Compiled with the help of https://wpack.io
 * A zero setup Webpack Bundler Script for WordPress
 */
(window.wpackiocDebiappJsonp=window.wpackiocDebiappJsonp||[]).push([[4],{218:function(e,t,n){n(29),e.exports=n(277)},271:function(e,t,n){var r={"./af":74,"./af.js":74,"./ar":75,"./ar-dz":76,"./ar-dz.js":76,"./ar-kw":77,"./ar-kw.js":77,"./ar-ly":78,"./ar-ly.js":78,"./ar-ma":79,"./ar-ma.js":79,"./ar-sa":80,"./ar-sa.js":80,"./ar-tn":81,"./ar-tn.js":81,"./ar.js":75,"./az":82,"./az.js":82,"./be":83,"./be.js":83,"./bg":84,"./bg.js":84,"./bm":85,"./bm.js":85,"./bn":86,"./bn.js":86,"./bo":87,"./bo.js":87,"./br":88,"./br.js":88,"./bs":89,"./bs.js":89,"./ca":90,"./ca.js":90,"./cs":91,"./cs.js":91,"./cv":92,"./cv.js":92,"./cy":93,"./cy.js":93,"./da":94,"./da.js":94,"./de":95,"./de-at":96,"./de-at.js":96,"./de-ch":97,"./de-ch.js":97,"./de.js":95,"./dv":98,"./dv.js":98,"./el":99,"./el.js":99,"./en-SG":100,"./en-SG.js":100,"./en-au":101,"./en-au.js":101,"./en-ca":102,"./en-ca.js":102,"./en-gb":103,"./en-gb.js":103,"./en-ie":104,"./en-ie.js":104,"./en-il":105,"./en-il.js":105,"./en-nz":106,"./en-nz.js":106,"./eo":107,"./eo.js":107,"./es":108,"./es-do":109,"./es-do.js":109,"./es-us":110,"./es-us.js":110,"./es.js":108,"./et":111,"./et.js":111,"./eu":112,"./eu.js":112,"./fa":113,"./fa.js":113,"./fi":114,"./fi.js":114,"./fo":115,"./fo.js":115,"./fr":116,"./fr-ca":117,"./fr-ca.js":117,"./fr-ch":118,"./fr-ch.js":118,"./fr.js":116,"./fy":119,"./fy.js":119,"./ga":120,"./ga.js":120,"./gd":121,"./gd.js":121,"./gl":122,"./gl.js":122,"./gom-latn":123,"./gom-latn.js":123,"./gu":124,"./gu.js":124,"./he":125,"./he.js":125,"./hi":126,"./hi.js":126,"./hr":127,"./hr.js":127,"./hu":128,"./hu.js":128,"./hy-am":129,"./hy-am.js":129,"./id":130,"./id.js":130,"./is":131,"./is.js":131,"./it":132,"./it-ch":133,"./it-ch.js":133,"./it.js":132,"./ja":134,"./ja.js":134,"./jv":135,"./jv.js":135,"./ka":136,"./ka.js":136,"./kk":137,"./kk.js":137,"./km":138,"./km.js":138,"./kn":139,"./kn.js":139,"./ko":140,"./ko.js":140,"./ku":141,"./ku.js":141,"./ky":142,"./ky.js":142,"./lb":143,"./lb.js":143,"./lo":144,"./lo.js":144,"./lt":145,"./lt.js":145,"./lv":146,"./lv.js":146,"./me":147,"./me.js":147,"./mi":148,"./mi.js":148,"./mk":149,"./mk.js":149,"./ml":150,"./ml.js":150,"./mn":151,"./mn.js":151,"./mr":152,"./mr.js":152,"./ms":153,"./ms-my":154,"./ms-my.js":154,"./ms.js":153,"./mt":155,"./mt.js":155,"./my":156,"./my.js":156,"./nb":157,"./nb.js":157,"./ne":158,"./ne.js":158,"./nl":159,"./nl-be":160,"./nl-be.js":160,"./nl.js":159,"./nn":161,"./nn.js":161,"./pa-in":162,"./pa-in.js":162,"./pl":163,"./pl.js":163,"./pt":164,"./pt-br":165,"./pt-br.js":165,"./pt.js":164,"./ro":166,"./ro.js":166,"./ru":167,"./ru.js":167,"./sd":168,"./sd.js":168,"./se":169,"./se.js":169,"./si":170,"./si.js":170,"./sk":171,"./sk.js":171,"./sl":172,"./sl.js":172,"./sq":173,"./sq.js":173,"./sr":174,"./sr-cyrl":175,"./sr-cyrl.js":175,"./sr.js":174,"./ss":176,"./ss.js":176,"./sv":177,"./sv.js":177,"./sw":178,"./sw.js":178,"./ta":179,"./ta.js":179,"./te":180,"./te.js":180,"./tet":181,"./tet.js":181,"./tg":182,"./tg.js":182,"./th":183,"./th.js":183,"./tl-ph":184,"./tl-ph.js":184,"./tlh":185,"./tlh.js":185,"./tr":186,"./tr.js":186,"./tzl":187,"./tzl.js":187,"./tzm":188,"./tzm-latn":189,"./tzm-latn.js":189,"./tzm.js":188,"./ug-cn":190,"./ug-cn.js":190,"./uk":191,"./uk.js":191,"./ur":192,"./ur.js":192,"./uz":193,"./uz-latn":194,"./uz-latn.js":194,"./uz.js":193,"./vi":195,"./vi.js":195,"./x-pseudo":196,"./x-pseudo.js":196,"./yo":197,"./yo.js":197,"./zh-cn":198,"./zh-cn.js":198,"./zh-hk":199,"./zh-hk.js":199,"./zh-tw":200,"./zh-tw.js":200};function a(e){var t=o(e);return n(t)}function o(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}a.keys=function(){return Object.keys(r)},a.resolve=o,e.exports=a,a.id=271},277:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(24),i=n.n(o),l=n(8),c=n(6),s=n(25),u=n(7),d=n(45),m=n(57),f=n.n(m);function p(){var e=Object(u.a)(["\n  &__overlay {\n    position: fixed;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n  }\n  &__modal {\n    position: absolute;\n    top: 50%;\n    left: 50%;\n    right: auto;\n    bottom: auto;\n    transform: translate(-50%, -50%);\n    width: 80vw;\n    max-width: 700px;\n    min-height: 200px;\n    max-height: 80vh;\n    overflow: auto;\n    box-shadow: 0px 0px 17px 5px rgba(0, 0, 0, 0.12);\n    border: 1px solid ",";\n    background-color: white;\n  }\n  .content-container {\n    padding: 2rem 2rem;\n  }\n"]);return p=function(){return e},e}f.a.setAppElement("#react-root");var h=Object(c.c)((function(e){var t=e.className,n=Object(d.a)(e,["className"]),r="".concat(t,"__modal"),o="".concat(t,"__overlay");return a.a.createElement(f.a,Object.assign({portalClassName:t,className:r,overlayClassName:o},n))}))(p(),(function(e){return e.theme.borderColor})),b=function(e){var t=e.isOpen,n=e.children,o=Object(r.useContext)(Ve).closeModal;return a.a.createElement(h,{isOpen:t,contentLabel:"Person Detail Modal",parentSelector:function(){return document.querySelector("#react-root")},onRequestClose:o,shouldCloseOnOverlayClick:!0},a.a.createElement("div",{className:"content-container"},n))},g=n(33),v=n(205);function j(){var e=Object(u.a)(["\n  margin: 0 5px 0 0;\n"]);return j=function(){return e},e}var w=c.c.p(j()),x=function(e){var t=e.globalFilter,n=e.setGlobalFilter;return a.a.createElement(w,null,a.a.createElement("label",{htmlFor:"table-text-filter"},"Text Filter:"),a.a.createElement("input",{id:"table-text-filter",type:"search",value:t||"",onChange:function(e){n(e.target.value||void 0)}}))},O=n(14);function y(){var e=Object(u.a)(["\n  a { cursor: pointer; }\n  .separator {\n    color: ",";\n  }\n"]);return y=function(){return e},e}var E=c.c.div(y(),(function(e){return e.theme.darkBorderColor})),_=function(e){var t=e.setAllFilters,n=e.filters,r=e.toggleSortBy,o=e.columns,i=function(e){var n=e.filters,i=e.sortBys,l=e.children;return a.a.createElement("a",{onClick:function(e){t(n),o.forEach((function(e){e.isSorted&&e.clearSortBy()})),i.forEach((function(e){return r.apply(void 0,Object(O.a)(e))}))}},l)},l=function(e){var n=e.children;return a.a.createElement("a",{style:{fontStyle:"italic"},onClick:function(e){t([]),o.forEach((function(e){e.isSorted&&e.clearSortBy()}))}},a.a.createElement("span",{style:{textDecoration:"underline"}},n)," Ã—")},c=n.reduce((function(e,t){return(null==t?void 0:t.id)&&(e[t.id]=t.value),e}),{});return a.a.createElement(E,null,a.a.createElement("label",null,"Filter Groups:"),(null==c?void 0:c.nonUniqueLastName)?a.a.createElement(l,null,"Non-unique last names"):a.a.createElement(i,{filters:[{id:"nonUniqueLastName",value:"true"}],sortBys:[["person_last_name_normalized"]]},"Non-unique last names")," ",a.a.createElement("span",{className:"separator"},"|")," "," ",(null==c?void 0:c.nonUniqueLastAndFirstName)?a.a.createElement(l,null,"Non-unique first & last names"):a.a.createElement(i,{filters:[{id:"nonUniqueLastAndFirstName",value:"true"}],sortBys:[["person_first_name_normalized",!1,!0],["person_last_name_normalized",!1,!0]]},"Non-unique first & last names")," ",a.a.createElement("span",{className:"separator"},"|")," "," ",(null==c?void 0:c.unattached)?a.a.createElement(l,null,"Unattached People"):a.a.createElement(i,{filters:[{id:"unattached",value:"true"}],sortBys:[["person_first_name_normalized",!1,!0],["person_last_name_normalized",!1,!0]]},"Unattached People"))},k=n(36),C=n.n(k);function W(){var e=Object(u.a)(["\n  .dropdown-menu {\n    position: absolute;\n    background-color: white;\n    min-width: 160px;\n    box-shadow: 2px 2px 10px 0px rgba(0, 0, 0, 0.18);\n    padding: 14px 18px;\n    z-index: 1;\n    border: 1px solid ",";\n  }\n"]);return W=function(){return e},e}var N=c.c.div(W(),(function(e){return e.theme.borderColor}));var D=Object(r.forwardRef)((function(e,t){var n=e.allColumns,o=t.headerGridRef,i=t.bodyGridRef,c=function(){var e=Object(r.useState)(!1),t=Object(l.a)(e,2),n=t[0],a=t[1],o=Object(r.useRef)(null),i=function(e){o.current.contains(e.target)||a(!1)};return Object(r.useEffect)((function(){return document.addEventListener("mousedown",i),function(){document.removeEventListener("mousedown",i)}}),[]),[n,a,o]}(),s=Object(l.a)(c,3),u=s[0],d=s[1],m=s[2],f=function(e){var t=e.target.attributes["data-column-id"].value,n=C.a.get("hidden_columns"),r=n.indexOf(t);r>-1?n.splice(r,1):n.push(t),C.a.set("hidden_columns",n),o.current.resetAfterColumnIndex(0,!0),i.current.resetAfterColumnIndex(0,!0)};return a.a.createElement(N,{ref:m},a.a.createElement("button",{className:"button action",onClick:function(e){return d(!u)}},"Toggle Column Visibility"),u?a.a.createElement("div",{className:"dropdown-menu"},n.filter((function(e){return!(null==e?void 0:e.disableVisibilityToggle)})).map((function(e){return a.a.createElement("div",{key:e.id},a.a.createElement("label",null,a.a.createElement("input",Object.assign({onClick:f,type:"checkbox"},e.getToggleHiddenProps(),{"data-column-id":e.id}))," ",e.Header))}))):"")})),R=n(10),F=n.n(R),S=n(15),I=n(3),z=n(37),H=n(39),P=n.n(H);function G(){var e=Object(u.a)(["\n    small: 1.8px;\n    default: 3px;\n  "]);return G=function(){return e},e}function T(){var e=Object(u.a)(["\n    small: 2px;\n    default: 6px;\n  "]);return T=function(){return e},e}function B(){var e=Object(u.a)(["\n    small: 8px;\n    default: 13px;\n  "]);return B=function(){return e},e}function L(){var e=Object(u.a)(["\n    small: 8px;\n    default: 13px;\n  "]);return L=function(){return e},e}function q(){var e=Object(u.a)(['\ndisplay: inline-block;\n&:after {\n  content: " ";\n  display: block;\n  position: relative;\n  width: ',";\n  height: ",";\n  top: ",";\n  margin: 0;\n  border-radius: 50%;\n  opacity: 0.5;\n  border-style: solid;\n  border-color: "," transparent "," transparent;\n  border-width: ",";\n  animation: "," 1.2s linear infinite;\n}\n"]);return q=function(){return e},e}function A(){var e=Object(u.a)(["\n  0% {\n    transform: rotate(0deg);\n  }\n  100% {\n    transform: rotate(360deg);\n  }\n"]);return A=function(){return e},e}var U=Object(c.d)(A()),M=c.c.div(q(),P()(L()),P()(B()),P()(T()),(function(e){return e.theme.textColor}),(function(e){return e.theme.textColor}),P()(G()),U),V=function(e){var t=document.createElement("textarea");return t.innerHTML=e,t.value},Q=n(47),J=n.n(Q),K=n(48),X=n.n(K),Y=function(e){var t=window.c_debi_plugin,n=t.ajax_url,r=t.action,a=t.nonce,o=t.route;return new Promise((function(t,i){J()({method:"POST",url:n,headers:{"content-type":"application/x-www-form-urlencoded"},data:X.a.stringify({action:r,nonce:a,route:o,reqs:e})}).then((function(e){e.data.success?t(e.data.data):i(e.data.data)})).catch((function(e){return i(e)}))}))},Z=function(e){return Y([{method:"delete_people",args:{IDs:e}}])},$=function(e){var t=e.from,n=e.to;return Y([{method:"merge_people",args:{from:t,to:n}}]).then((function(e){for(var t=function(){var e=r[n],t=(a=Object(l.a)(e,2))[0],o=a[1];t=parseInt(t),z.a.prefetchQuery(["people",[t]],(function(){return Object(I.a)({},t,o)}))},n=0,r=Object.entries(e.updated);n<r.length;n++){var a;t()}return e}))},ee=function(e,t){var n=t.reduce((function(e,t){var n=z.a.getQueryData(["people",[t]]);return n?e.cachedQueries[t]=n:e.uncachedQueries.push(t),e}),{cachedQueries:{},uncachedQueries:[]}),r=n.cachedQueries,a=n.uncachedQueries;return new Promise((function(e,t){if(a.length)Y(a.map((function(e){return{method:"get_person_entities",args:e,key:e}}))).then((function(t){for(var n=function(){var e=o[a],t=(i=Object(l.a)(e,2))[0],n=i[1];(t=parseInt(t))&&z.a.prefetchQuery(["people",[t]],(function(){return Object(I.a)({},t,n)}))},a=0,o=Object.entries(t);a<o.length;a++){var i;n()}if(Object.keys(r).length)for(var c=0,s=Object.entries(r);c<s.length;c++){var u=s[c],d=Object(l.a)(u,2),m=d[0],f=d[1];t[m]=f[m]}e(t)}));else{var n={};if(Object.keys(r).length)for(var o=0,i=Object.entries(r);o<i.length;o++){var c=i[o],s=Object(l.a)(c,2),u=s[0],d=s[1];n[u]=d[u]}e(n)}}))};function te(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ne(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?te(Object(n),!0).forEach((function(t){Object(I.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):te(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function re(){var e=Object(u.a)(["\n  .people .person:first-of-type {\n    &:not(:only-child){\n      margin-bottom: 20px;\n      padding-bottom: 20px;\n      border-bottom: 1px solid ",";\n    }\n  }\n  h3 {\n    margin-top: 0;\n    margin-bottom: 10px;\n    display: inline-block;\n  }\n  .keep-selected {\n    display: inline-block;\n    margin-left: 10px;\n    input {\n      position: relative;\n      top: 1.5px;\n    }\n    label {\n      position: relative;\n      top: -1px;\n    }\n  }\n  h4 {\n    margin-top: 0;\n    margin-bottom: 0.5rem;\n  }\n  ol {\n    margin-top: 0;\n    margin-left: 1.5rem;\n    &:last-of-type {\n      margin-bottom: 0\n    }\n  }\n  .merge-people {\n    margin-top: 20px;\n    button {\n     margin-right: 6px;\n    }\n  }\n"]);return re=function(){return e},e}var ae=c.c.div(re(),(function(e){return e.theme.darkBorderColor}));function oe(e,t){switch(t.type){case"start_merge":return ne(ne({},e),{},{merging:!0});case"end_merge":return ne(ne({},e),{},{rows:t.payload,merging:!1});case"select_row":return ne(ne({},e),{},{selected:t.payload===e.selected?null:t.payload});default:throw new Error}}var ie=function(e){var t=e.rows,n=Object(r.useReducer)(oe,{rows:t,selected:null,merging:!1}),o=Object(l.a)(n,2),i=o[0],c=o[1],u=Object(z.b)(["people",i.rows.map((function(e){return e.ID}))],ee),d=u.status,m=u.data,f=u.error,p=Object(r.useContext)(Ve),h=p.data,b=p.setData,g=Object(s.useToasts)().addToast,v=function(){var e=Object(S.a)(F.a.mark((function e(){var t,n,r,a;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c({type:"start_merge"}),e.next=3,$({from:i.rows.filter((function(e){return e.ID!==i.selected})).map((function(e){return e.ID}))[0],to:i.selected});case 3:t=e.sent,n=t.deleted,r=i.rows.filter((function(e){return-1===n.indexOf(e.ID)})),c({type:"end_merge",payload:r}),a=h.filter((function(e){return-1===n.indexOf(e.ID)})),b(a),g("Merged People",{appearance:"success"});case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return a.a.createElement(ae,null,a.a.createElement("div",{className:"people"},i.rows.map((function(e){return a.a.createElement("div",{className:"person",key:e.ID},a.a.createElement("h3",null,e.post_title," [ID: ",e.ID,"]"),"loading"===d?a.a.createElement("div",null,a.a.createElement(M,null)):"error"===d?a.a.createElement("span",null,"Error: ",f.message):a.a.createElement(a.a.Fragment,null,i.rows.length>1&&a.a.createElement("div",{className:"keep-selected"},a.a.createElement("input",{type:"checkbox",disabled:!!i.selected&&i.selected!==e.ID,onClick:function(){return c({type:"select_row",payload:e.ID})}}),a.a.createElement("label",{htmlFor:"select"},"Keep")),m[e.ID].map((function(e){return a.a.createElement("div",{key:e.label},a.a.createElement("h4",null,e.label),a.a.createElement("ol",null,e.posts.map((function(e){return a.a.createElement("li",{key:e.ID},a.a.createElement("a",{href:V(e.permalink),target:"_blank"},e.post_title)," [ ",a.a.createElement("a",{href:V(e.edit_link),target:"_blank"},"Edit")," ]")}))))}))))}))),i.rows.length>1&&a.a.createElement("div",{className:"merge-people"},a.a.createElement("button",{className:"button action".concat(i.selected?"":" disabled"),onClick:v},"Merge People"),i.merging&&a.a.createElement(M,null)))};function le(){var e=Object(u.a)(["\n"]);return le=function(){return e},e}var ce=c.c.div(le()),se=function(e){var t=e.selectedFlatRows,n=e.toggleAllRowsSelected,o=t.map((function(e){return e.original})),i=Object(r.useContext)(Ve),c=i.data,u=i.setData,d=i.openModal,m=Object(r.useCallback)((function(){return a.a.createElement(ie,{rows:o})}),[o]),f=Object(r.useState)(!1),p=Object(l.a)(f,2),h=p[0],b=p[1],g=Object(s.useToasts)().addToast,v=function(){var e=Object(S.a)(F.a.mark((function e(){var t,n,r;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return b(!0),e.next=3,Z(o.map((function(e){return e.ID})));case 3:t=e.sent,n=t.deleted,b(!1),r=c.filter((function(e){return-1===n.indexOf("".concat(e.ID))})),u(r),g("Deleted Selected People",{appearance:"success"});case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return a.a.createElement(ce,null,a.a.createElement("button",{className:"button action".concat(t.length?"":" disabled"),onClick:function(){return n(!1)}},"Clear Selected"),a.a.createElement("button",{className:"button action".concat(2!==t.length?" disabled":""),onClick:function(){return d(m)}},"Compare & Merge Selected"),a.a.createElement("button",{className:"button action".concat(t.length?"":" disabled"),onClick:function(){return v()}},"Delete Selected"),h&&a.a.createElement(M,null))};function ue(){var e=Object(u.a)(["\n  button {\n    margin-right: 5px !important;\n  }\n"]);return ue=function(){return e},e}var de=c.c.div(ue()),me=function(){var e=Object(r.useState)(!1),t=Object(l.a)(e,2),n=t[0],o=t[1],i=Object(s.useToasts)().addToast,c=Object(r.useContext)(Ve),u=c.data,d=c.setData,m=function(){var e=Object(S.a)(F.a.mark((function e(){var t,n,r,a;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o(!0),e.next=3,Y([{method:"reset_test_data"}]);case 3:t=e.sent,n=t.created,r=t.deleted,o(!1),(a=u.filter((function(e){return-1===r.indexOf(e.ID)}))).unshift.apply(a,Object(O.a)(n)),d(a),i("Reset and Created Test Data",{appearance:"success"});case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),f=function(){var e=Object(S.a)(F.a.mark((function e(){var t,n,r;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o(!0),e.next=3,Y([{method:"remove_test_data"}]);case 3:t=e.sent,n=t.deleted,o(!1),r=u.filter((function(e){return-1===n.indexOf(e.ID)})),d(r),i("Removed Test Data",{appearance:"success"});case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return a.a.createElement(de,null,a.a.createElement("button",{className:"button action",onClick:m},"Create / Reset Test Data"),a.a.createElement("button",{className:"button action",onClick:f},"Remove Test Data"),n&&a.a.createElement(M,null))};function fe(){var e=Object(u.a)(["\n  display: flex;\n  justify-content: space-between;\n  margin-bottom: 9px;\n  align-items: flex-end;\n  \n  > div {\n  \n    > div {\n      display: flex;\n      align-items: center;\n      \n      &:first-child {\n        margin-bottom: 7px;\n      }\n      \n      &.left-bottom-area > div:last-child {\n        border-left: 1px solid ",";\n        margin-left: 5px;\n        padding-left: 10px;\n      }\n    }\n    \n    label {\n      font-weight: 600;\n      padding-right: 5px;\n      vertical-align: inherit;\n    }\n    button {\n      margin-right: 5px !important;\n    }\n  }\n"]);return fe=function(){return e},e}var pe=c.c.div(fe(),(function(e){return e.theme.darkBorderColor})),he=Object(r.forwardRef)((function(e,t){var n=e.state,r=e.columns,o=e.allColumns,i=e.rows,l=e.preGlobalFilteredRows,c=e.setGlobalFilter,s=e.setAllFilters,u=e.toggleSortBy,d=e.selectedFlatRows,m=e.toggleAllRowsSelected;return a.a.createElement(pe,null,a.a.createElement("div",{className:"left-area"},a.a.createElement("div",{className:"left-top-area"},a.a.createElement(x,{preGlobalFilteredRows:l,globalFilter:n.globalFilter,setGlobalFilter:c}),a.a.createElement(_,{setAllFilters:s,filters:n.filters,columns:r,toggleSortBy:u})),a.a.createElement("div",{className:"left-bottom-area"},a.a.createElement(se,{selectedFlatRows:d,toggleAllRowsSelected:m}),a.a.createElement(me,null))),a.a.createElement("div",{className:"right-area"},a.a.createElement("div",{className:"right-top-area"}),a.a.createElement("div",{className:"right-bottom-area"},a.a.createElement(D,{allColumns:o,ref:t}),a.a.createElement("div",{className:"item-count"},i.length," items"))))})),be=n(50);function ge(){var e=Object(u.a)(["\n  color: ",";\n  height: ",";\n  padding-right: ","px;\n \n  & > div {\n    padding: ","px;\n    white-space: nowrap;\n    overflow: hidden;\n    text-overflow: ellipsis;\n    display: flex;\n    align-items: center;\n    height: ",";\n    &.last-th {\n      padding-right: ",'px;\n    }\n  }\n  \n  .sorting-indicator {\n    margin-top: 3px;\n  }\n \n  &.asc a:focus span.sorting-indicator, &.asc:hover span.sorting-indicator, \n  &.desc a:focus span.sorting-indicator, &.desc:hover span.sorting-indicator, \n  &.sorted .sorting-indicator, &.sortable:hover .sorting-indicator {\n      visibility: visible;\n  }\n  &.sorted.asc .sorting-indicator:before,  {\n    content: "\\f142";\n  } \n  &.sorted.desc .sorting-indicator:before, &.sorted.asc:hover .sorting-indicator:before {\n      content: "\\f140";\n  }\n  &.sorted.desc:hover .sorting-indicator:before {\n      content: "\\00D7";\n      font-size: 14px;\n      left: -1px;\n      top: -3.1px;\n  }\n'],["\n  color: ",";\n  height: ",";\n  padding-right: ","px;\n \n  & > div {\n    padding: ","px;\n    white-space: nowrap;\n    overflow: hidden;\n    text-overflow: ellipsis;\n    display: flex;\n    align-items: center;\n    height: ",";\n    &.last-th {\n      padding-right: ",'px;\n    }\n  }\n  \n  .sorting-indicator {\n    margin-top: 3px;\n  }\n \n  &.asc a:focus span.sorting-indicator, &.asc:hover span.sorting-indicator, \n  &.desc a:focus span.sorting-indicator, &.desc:hover span.sorting-indicator, \n  &.sorted .sorting-indicator, &.sortable:hover .sorting-indicator {\n      visibility: visible;\n  }\n  &.sorted.asc .sorting-indicator:before,  {\n    content: "\\\\f142";\n  } \n  &.sorted.desc .sorting-indicator:before, &.sorted.asc:hover .sorting-indicator:before {\n      content: "\\\\f140";\n  }\n  &.sorted.desc:hover .sorting-indicator:before {\n      content: "\\\\00D7";\n      font-size: 14px;\n      left: -1px;\n      top: -3.1px;\n  }\n']);return ge=function(){return e},e}var ve=c.c.div(ge(),(function(e){return e.theme.textColor}),(function(e){return"".concat(40-2*e.theme.cellPaddingV,"px")}),(function(e){return e.theme.scrollBarWidth}),(function(e){return"".concat(e.theme.cellPaddingV,"px ").concat(e.theme.cellPaddingH)}),(function(e){return"".concat(40-2*e.theme.cellPaddingV,"px")}),(function(e){return e.theme.scrollBarWidth+e.theme.cellPaddingH})),je=function(e){var t=e.columns;return function(e){var n=e.columnIndex,r=(e.rowIndex,e.style),o=t[n];return a.a.createElement(ve,Object.assign({},o.getSortByToggleProps({style:r}),{className:"".concat(o.disableSortBy?"":o.isSorted?o.isSortedDesc?" sorted desc":" sorted asc":" sortable")}),a.a.createElement("div",{className:"".concat(n===t.length-1?" last-th":"")},o.disableSortBy?a.a.createElement("span",null,o.render("Header")):a.a.createElement("a",null,o.render("Header")),a.a.createElement("span",{className:"sorting-indicator"})))}};function we(){var e=Object(u.a)(["\n  border-bottom: 1px solid ",";\n  height: ",";\n  background-color: white;\n"]);return we=function(){return e},e}var xe=Object(c.c)(be.a)(we(),(function(e){return e.theme.borderColor}),(function(e){return e.theme.tableHeaderHeight})),Oe=Object(r.forwardRef)((function(e,t){var n=e.columns,o=(e.minGridWidth,e.viewWidth),i=e.viewHeight,l=e.columnWidths,c=t.headerGridRef,s=Object(r.useCallback)(je({columns:n}),[n]);return Object(r.useEffect)((function(){var e;(null===(e=c.current)||void 0===e?void 0:e.resetAfterColumnIndex)&&c.current.resetAfterColumnIndex(0,!0)}),[o]),a.a.createElement(xe,{columnCount:n.length,overscanColumnCount:n.length,columnWidth:function(e){return l[e]},height:i,rowCount:1,rowHeight:function(){return i},width:o,ref:c,style:{overflow:"hidden"}},s)}));function ye(){var e=Object(u.a)(["\n  background-color: ",";\n  color: ",";\n  & > div {\n    padding: ",";\n    &.last-td {\n      padding-right: ","px;\n    }\n  }\n"]);return ye=function(){return e},e}var Ee=c.c.div(ye(),(function(e){return"even"===e.parity?"white":"#f9f9f9"}),(function(e){return e.theme.textColor}),(function(e){return"".concat(e.theme.cellPaddingV,"px ").concat(e.theme.cellPaddingH,"px")}),(function(e){return e.xScrollVisible?e.theme.cellPaddingH:e.theme.cellPaddingH+e.theme.scrollBarWidth})),_e=function(e){var t=e.rows,n=e.prepareRow,r=e.columns;return function(e){var o=e.columnIndex,i=e.rowIndex,l=e.style,c=t[i];return n(c),a.a.createElement(Ee,{style:l,parity:i%2?"even":"odd"},a.a.createElement("div",{className:"".concat(o===r.length-1?" last-td":"")},c.cells[o].render("Cell")))}};function ke(){var e=Object(u.a)(["\n"]);return ke=function(){return e},e}var Ce=Object(c.c)(be.a)(ke()),We=Object(r.forwardRef)((function(e,t){var n=e.columns,o=e.rows,i=e.prepareRow,l=e.minGridWidth,s=e.viewHeight,u=e.viewWidth,d=e.columnWidths,m=t.headerGridRef,f=t.bodyGridRef,p=Object(r.useContext)(c.a).tableBodyCellHeight,h=u<l,b=Object(r.useCallback)(_e({rows:o,prepareRow:i,columns:n,xScrollVisible:h}),[o,i]);return Object(r.useEffect)((function(){var e;(null===(e=f.current)||void 0===e?void 0:e.resetAfterColumnIndex)&&f.current.resetAfterColumnIndex(0,!0)}),[u]),a.a.createElement(Ce,{columnCount:n.length,overscanColumnCount:n.length,overscanRowCount:20,columnWidth:function(e){return d[e]},width:u,height:s,rowCount:o.length,rowHeight:function(){return p},ref:f,onScroll:function(e){var t=e.scrollLeft;return m.current.scrollTo({scrollLeft:t})},style:{overflowX:"".concat(h?"auto":"hidden"),overflowY:"scroll"}},b)}));function Ne(){var e=Object(u.a)(["\n  a { cursor: pointer; }\n  ","{\n    padding-left: 4px;\n  }\n"]);return Ne=function(){return e},e}var De=c.c.div(Ne(),M),Re=function(e){var t=e.cell,n=e.row,o=Object(r.useContext)(Ve),i=o.openModal,c=o.data,u=o.setData,d=Object(r.useCallback)((function(){return a.a.createElement(ie,{rows:[n.original]})}),[n]),m=Object(r.useState)(!1),f=Object(l.a)(m,2),p=f[0],h=f[1],b=Object(s.useToasts)().addToast,g=function(){var e=Object(S.a)(F.a.mark((function e(t){var n,r,a;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return h(!0),e.next=3,Z([t]);case 3:n=e.sent,r=n.deleted,h(!1),a=c.filter((function(e){return-1===r.indexOf("".concat(e.ID))})),u(a),b("Deleted Person ID: ".concat(t),{appearance:"success"});case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return a.a.createElement(De,null,a.a.createElement("div",null,t.value),a.a.createElement("div",null,a.a.createElement("a",{href:"#",onClick:function(){return i(d)}},"View")," "," ",a.a.createElement("span",{className:"separator"},"|")," "," ",a.a.createElement("a",{href:V(n.original.edit_link),target:"_blank"},"Edit")," "," ",a.a.createElement("span",{className:"separator"},"|")," "," ",a.a.createElement("a",{href:"#",onClick:function(){return g(n.original.ID)}},"Delete"),p&&a.a.createElement(M,{small:!0})))},Fe=n(1),Se=n.n(Fe),Ie=function(e){var t=e.cell;return Se()(t.value).format("LLL")},ze=Object(r.forwardRef)((function(e,t){var n=e.indeterminate,o=(e.selectedRowIds,Object(d.a)(e,["indeterminate","selectedRowIds"])),i=Object(r.useRef)(),l=t||i;return Object(r.useEffect)((function(){l.current.indeterminate=n}),[l,n]),a.a.createElement(a.a.Fragment,null,a.a.createElement("input",Object.assign({type:"checkbox",ref:l},o)))})),He=function(e){var t={};return e.forEach((function(e,n){var r=e.person_last_name_normalized,a=e.person_first_name_normalized;t.hasOwnProperty(r)||(t[r]=[]),t[r].push({rowIndex:n,firstName:a})})),Object.entries(t).forEach((function(t){var n=Object(l.a)(t,2),r=(n[0],n[1]);if(r.length>1){var a={};r.forEach((function(t){e[t.rowIndex].nonUniqueLastName="true";var n=t.firstName;a.hasOwnProperty(n)||(a[n]=[]),a[n].push(t.rowIndex),Object.entries(a).forEach((function(t){var n=Object(l.a)(t,2),r=(n[0],n[1]);r.length>1?r.forEach((function(t){e[t].nonUniqueLastAndFirstName="true"})):e[r[0]].nonUniqueLastAndFirstName="false"}))}))}else e[r[0].rowIndex].nonUniqueLastName="false",e[r[0].rowIndex].nonUniqueLastAndFirstName="false"})),e},Pe=n(206),Ge=function(e,t,n){var r=n.replace(/[^\w\s]/g,"");return Object(Pe.a)(e,r,{keys:[function(e){return e.values.person_first_name_normalized},function(e){return e.values.person_last_name_normalized},function(e){return e.values.person_middle_name_normalized},function(e){return e.values.person_nickname_normalized},function(e){return e.values.person_current_placement},function(e){return e.values.person_degree}]})};Ge.autoRemove=function(e){return!e};var Te=function(e){var t=C.a.get("hidden_columns");return t||(t=e,C.a.set("hidden_columns",t)),t};function Be(){var e=Object(u.a)(["\n    background: white;\n    border: 1px solid ",";\n    box-shadow: 0 1px 1px rgba(0,0,0,.04);\n    background: #e6e6e6;\n    \n    > div {\n      display: flex;\n      flex-direction: column;\n      \n      > div {\n        flex-shrink: 0;\n      }\n    }   \n"]);return Be=function(){return e},e}var Le=function(){return[{id:"selection",Cell:function(e){var t=e.row,n=e.state.selectedRowIds;return a.a.createElement("div",null,a.a.createElement(ze,Object.assign({},t.getToggleRowSelectedProps(),{selectedRowIds:n})))},disableGlobalFilter:!0,disableSortBy:!0,disableVisibilityToggle:!0,minWidth:30,width:30,maxWidth:30},{Header:"ID",accessor:"ID",minWidth:50,width:50,maxWidth:75},{Header:"Person",accessor:"post_title",disableGlobalFilter:!0,Cell:Re,minWidth:200,width:300},{Header:"First",accessor:"person_first_name_normalized",Cell:function(e){return e.row.original.person_first_name},minWidth:100,width:100,maxWidth:100},{Header:"Middle",accessor:"person_middle_name_normalized",Cell:function(e){return e.row.original.person_middle_name},minWidth:100,width:100,maxWidth:100},{Header:"Last",accessor:"person_last_name_normalized",Cell:function(e){return e.row.original.person_last_name},minWidth:125,width:125,maxWidth:125},{Header:"Nickname",accessor:"person_nickname_normalized",Cell:function(e){return e.row.original.person_nickname},minWidth:100,width:100,maxWidth:100},{Header:"Current Placement",accessor:"person_current_placement",minWidth:250,width:250},{Header:"Degree",accessor:"person_degree",minWidth:250,width:250},{Header:"Non-unique Last",accessor:"nonUniqueLastName",minWidth:150,width:150,maxWidth:150},{Header:"Non-unique Last & First",accessor:"nonUniqueLastAndFirstName",minWidth:150,width:150,maxWidth:150},{Header:"Date Created",accessor:"post_date",Cell:Ie,disableGlobalFilter:!0,minWidth:190,width:190,maxWidth:190},{Header:"Date Modified",accessor:"post_modified",Cell:Ie,disableGlobalFilter:!0,minWidth:190,width:190,maxWidth:190},{Header:"Unattached",accessor:"unattached",Cell:function(e){return e.cell.value?"true":"false"},disableGlobalFilter:!0,minWidth:100,width:100,maxWidth:100}]},qe=c.c.div(Be(),(function(e){return e.theme.borderColor})),Ae=function(e){var t=e.data,n=Object(g.useTable)({columns:Object(r.useMemo)(Le,[]),data:Object(r.useMemo)((function(){return He(t)}),[t.length]),initialState:{hiddenColumns:Object(r.useCallback)(Te(["nonUniqueLastName","nonUniqueLastAndFirstName","unattached"]),[])},defaultColumn:Object(r.useMemo)((function(){return{width:150}}),[]),filterTypes:Object(r.useMemo)((function(){return{text:Ge}}),[]),globalFilter:"text",autoResetSortBy:!1,autoResetFilters:!1},g.useFilters,g.useGlobalFilter,g.useSortBy,g.useRowSelect,g.useBlockLayout),o=n.state,i=n.columns,l=n.allColumns,s=n.rows,u=n.prepareRow,d=n.getTableProps,m=n.preGlobalFilteredRows,f=n.setGlobalFilter,p=n.setAllFilters,h=n.toggleSortBy,b=n.selectedFlatRows,j=n.toggleAllRowsSelected,w=i.filter((function(e){return e.isVisible})),x=Object(r.useContext)(c.a),O=x.tableHeight,y=x.tableHeaderHeight,E={headerGridRef:Object(r.useRef)(),bodyGridRef:Object(r.useRef)()};return a.a.createElement(a.a.Fragment,null,a.a.createElement(he,{state:o,columns:i,allColumns:l,rows:s,preGlobalFilteredRows:m,setGlobalFilter:f,setAllFilters:p,toggleSortBy:h,selectedFlatRows:b,toggleAllRowsSelected:j,ref:E}),a.a.createElement(qe,d(),a.a.createElement(v.a,{style:{height:O,width:"100%"}},(function(e){var t=e.width,n=e.height,r=function(e,t){e.forEach((function(t,n){e[n].minWidth=t.minWidth?t.minWidth:t.width,e[n].calcWidth=t.minWidth,e[n].flexGrow=!(t.minWidth===t.width&&t.width===t.maxWidth)}));for(var n=e.reduce((function(e,t){return e+t.minWidth}),0),r=t-n;r>0;){for(var a=e.reduce((function(e,t){return t.flexGrow?e+t.width:e}),0),o=0,i=0;i<e.length;i++)if(e[i].flexGrow){var l=e[i].width/a*r,c=e[i].calcWidth+l;e[i].calcWidth=c,e[i].maxWidth&&c>e[i].maxWidth&&(e[i].flexGrow=!1,e[i].calcWidth=e[i].maxWidth,l=e[i].maxWidth-e[i].minWidth),o+=l}r-=o}return{minGridWidth:n,columnWidths:e.map((function(e){return e.calcWidth}))}}(w,t),o=r.minGridWidth,i=r.columnWidths;return a.a.createElement(a.a.Fragment,null,a.a.createElement(Oe,{ref:E,columns:w,viewWidth:t-2,viewHeight:y,minGridWidth:o,columnWidths:i}),a.a.createElement(We,{ref:E,columns:w,rows:s,viewWidth:t-2,viewHeight:n-y-3,prepareRow:u,minGridWidth:o,columnWidths:i}))}))))};function Ue(){var e=Object(u.a)(["\nmargin-top: 35px;\n"]);return Ue=function(){return e},e}var Me=Object(c.c)(s.DefaultToast)(Ue()),Ve=Object(r.createContext)({}),Qe={textColor:"#32373c",borderColor:"#ccd0d4",darkBorderColor:"#7e8993",tableHeight:"calc(100vh - 200px)",tableHeaderHeight:40,tableBodyCellHeight:60,cellPaddingH:10,cellPaddingV:8,scrollBarWidth:function(){var e=document.createElement("div"),t=document.createElement("div");e.style.width=t.style.width="100%",e.style.overflow="scroll",document.body.appendChild(e).appendChild(t);var n=e.offsetWidth-t.offsetWidth;return e.parentNode.removeChild(e),n}()};var Je=function(e){var t=e.data,n=Object(r.useState)({open:!1,content:null}),o=Object(l.a)(n,2),i=o[0],u=o[1],d=Object(r.useState)(t),m=Object(l.a)(d,2),f=m[0],p=m[1];return a.a.createElement(Ve.Provider,{value:{openModal:function(e){u({open:!0,content:e})},closeModal:function(){u({open:!1,content:null})},data:f,setData:p}},a.a.createElement(c.b,{theme:Qe},a.a.createElement(s.ToastProvider,{components:{Toast:Me},autoDismiss:!0,autoDismissTimeout:2e3},a.a.createElement(b,{isOpen:i.open},i.content?i.content():""),a.a.createElement(Ae,{data:f}))))},Ke=document.getElementById("react-root"),Xe=window.c_debi_plugin.data.data;i.a.render(a.a.createElement(Je,{data:Xe}),Ke)}},[[218,0,1,8]]]);
//# sourceMappingURL=c-debi_manage_people-2f0305d3.js.map